# ArXiv CS.CV Daily Summarizer

これは、arXivのComputer Vision (cs.CV) の新着論文を毎日取得し、Gemini APIを使用して日本語要約とContributionの抽出を行うサービスです。Web UIからテキストで閲覧できるほか、移動中でも音声で聴きながら論文をチェックできる「プレイヤーモード」を備えています。

## 主な機能
- **自動要約**: `cs.CV`の新着論文とクロスリスト論文を自動で取得・要約。
- **Web UI**: 日付ごとに要約された論文を閲覧可能。
- **プレイヤーモード**: 論文のタイトル・貢献・要約を順番に音声で読み上げ。再生速度の変更、一時停止、スキップ機能付き。
- **お気に入り機能**: プレイヤーモードや一覧画面から気になった論文を保存し、後で確認可能。
- **レジューム機能**: プレイヤーは前回再生した位置を記憶しており、続きから再生できます。

## セットアップ

1.  **ライブラリのインストール**:
    ```bash
    pip install -r requirements.txt
    ```

2.  **Gemini APIキーの設定**:
    環境変数として `GEMINI_API_KEY` を設定してください。
    ```bash
    export GEMINI_API_KEY="your_api_key_here"
    ```

## 使い方

### 1. 手動実行 (データ取得)
最初に、データを取得・要約・保存するために `main_job.py` を実行します。
```bash
python main_job.py
```
実行すると `data/` ディレクトリに `YYYY-MM-DD.json` という形式で結果が保存されます。

### 2. 定期実行 (任意)
毎日決まった時間に自動でデータを取得したい場合は、スケジューラーを起動します。
```bash
python scheduler_service.py
```
デフォルトでは毎日 10:00 (システム時刻) に実行されます。

もしくは、arXivの更新を常時監視し、更新を検知した時点で実行する監視サービスを使用することもできます。
```bash
python monitor_service.py
```
30分ごとにarXivをチェックし、ヘッダー（日付）が変更されていたら自動的に処理を実行します。

### 3. Web UIの起動
保存されたデータを閲覧したり、プレイヤー機能を使ったりするには、Webサーバーを起動します。
```bash
python app.py
```
手元のPCや、同じネットワークに接続しているスマートフォンのブラウザで `http://<PCのIPアドレス>:5000` にアクセスしてください。

#### プレイヤーの使い方
- **Listen (Player)** ボタンからプレイヤーを起動します。
- **Resume / Start from beginning**: 続きから再生するか、最初から再生するかを選べます。
- **★ Save and Next**: 気になった論文を「お気に入り」に保存し、次の論文に進みます。
- **Skip**: 現在の論文をスキップします。
- 画面上のドロップダウンから再生速度を変更できます。

## 注意点
- `main_job.py` は、実行するたびにGemini APIを呼び出します。APIの利用料金やレート制限にご注意ください。
- `scheduler_service.py` はフォアグラウンドで動作し続けます。